"use strict";(self["webpackChunkwaffle_backend"]=self["webpackChunkwaffle_backend"]||[]).push([[25],{2025:function(e,a,l){l.r(a),l.d(a,{default:function(){return S}});var t=l(3396),s=l(7139);const o={class:"row"},n={class:"col-12"},d={class:"card_outStyle radius-10 p-3 pb-4"},r={class:"d-flex align-items-center justify-content-between mx-4"},c={class:"text-white d-flex flex-start my-4"},i={class:"d-flex justify-content-between"},m={class:"d-flex align-items-center mx-4"},u={class:"d-flex flex-column"},b={class:"d-flex justify-content-center"},k={class:"row"},h={class:"col-12"},B={key:0,class:"card_outStyle d-flex flex-wrap radius-10 p-4"},p=["onClick","onKeydown"],g={class:"card-body"},w={class:"fw-bold"},A={key:0,class:"fw-bold"},v={key:1,class:"fw-bold"},f={key:0,class:"fw-bold"},N={key:1,class:"fw-bold"};function C(e,a,l,C,_,W){const V=(0,t.up)("el-checkbox"),y=(0,t.up)("el-button"),K=(0,t.up)("el-popconfirm"),O=(0,t.up)("el-option"),$=(0,t.up)("el-select"),I=(0,t.up)("el-input"),M=(0,t.up)("el-dialog"),S=(0,t.up)("el-col"),z=(0,t.up)("el-row");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",o,[(0,t._)("div",n,[(0,t._)("div",d,[(0,t._)("div",r,[(0,t._)("h4",c,(0,s.zw)(this.$t("bankCardInfo")),1)]),(0,t._)("div",i,[(0,t._)("div",m,[(0,t.Wm)(V,{class:"checkCard_style",modelValue:_.checked2,"onUpdate:modelValue":a[0]||(a[0]=e=>_.checked2=e),onChange:a[1]||(a[1]=e=>W.test(_.checked2))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(this.$t("showNum")),1)])),_:1},8,["modelValue"])]),(0,t._)("div",u,[(0,t.Wm)(y,{color:"#faa30d",class:"search_btn px-4 fw-bold me-3",size:"default",onClick:a[2]||(a[2]=e=>W.openADD_modal())},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(this.$t("add")),1)])),_:1}),(0,t.Wm)(K,{title:this.$t("delete_sure"),onConfirm:a[4]||(a[4]=e=>W.confirmEvent())},{reference:(0,t.w5)((()=>[(0,t.Wm)(y,{color:"rgba(209, 49, 40, 1)",class:"mt-3 px-4 fw-bold me-3",size:"default",onClick:a[3]||(a[3]=e=>W.deleteBank())},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(this.$t("delete")),1)])),_:1})])),_:1},8,["title"])]),(0,t.Wm)(M,{class:"addModel_style",modelValue:_.addBankVisible,"onUpdate:modelValue":a[11]||(a[11]=e=>_.addBankVisible=e),title:this.$t("addBankCard"),width:"70%",center:""},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"bankName_style mt-3",modelValue:_.addForm.bankAccount,"onUpdate:modelValue":a[7]||(a[7]=e=>_.addForm.bankAccount=e),placeholder:this.$t("bankAccount")},{prepend:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(this.$t("bankAccount")),1)])),append:(0,t.w5)((()=>[(0,t.Wm)($,{class:"chooseBank_style",modelValue:_.addForm.bankName,"onUpdate:modelValue":a[5]||(a[5]=e=>_.addForm.bankName=e),placeholder:this.$t("choose_bank"),onChange:a[6]||(a[6]=e=>W.chooseBank_name(_.addForm.bankName)),clearable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{label:"AGRIBANK",value:"AGRIBANK"}),(0,t.Wm)(O,{label:"BIDV",value:"BIDV"}),(0,t.Wm)(O,{label:"VIETINBANK",value:"VIETINBANK"}),(0,t.Wm)(O,{label:"VPBANK",value:"VPBANK"}),(0,t.Wm)(O,{label:"VCB",value:"VCB"}),(0,t.Wm)(O,{label:"ACB",value:"ACB"}),(0,t.Wm)(O,{label:"ABBANK",value:"ABBANK"}),(0,t.Wm)(O,{label:"NASB",value:"NASB"}),(0,t.Wm)(O,{label:"VIETCAPITAL",value:"VIETCAPITAL"}),(0,t.Wm)(O,{label:"VIB",value:"VIB"}),(0,t.Wm)(O,{label:"BVB",value:"BVB"}),(0,t.Wm)(O,{label:"LPB",value:"LPB"}),(0,t.Wm)(O,{label:"CIMB",value:"CIMB"}),(0,t.Wm)(O,{label:"PVCOMBANK",value:"PVCOMBANK"}),(0,t.Wm)(O,{label:"OCEANBANK",value:"OCEANBANK"}),(0,t.Wm)(O,{label:"GPB",value:"GPB"}),(0,t.Wm)(O,{label:"DONGABANK",value:"DONGABANK"}),(0,t.Wm)(O,{label:"SEABANK",value:"SEABANK"}),(0,t.Wm)(O,{label:"MSB",value:"MSB"}),(0,t.Wm)(O,{label:"INDOVINA",value:"INDOVINA"}),(0,t.Wm)(O,{label:"IBK",value:"IBK"}),(0,t.Wm)(O,{label:"KIENLONG",value:"KIENLONG"}),(0,t.Wm)(O,{label:"TECHCOMBANK",value:"TECHCOMBANK"}),(0,t.Wm)(O,{label:"VRB",value:"VRB"}),(0,t.Wm)(O,{label:"NAMABANK",value:"NAMABANK"}),(0,t.Wm)(O,{label:"HDB",value:"HDB"}),(0,t.Wm)(O,{label:"OCB",value:"OCB"}),(0,t.Wm)(O,{label:"PBVN",value:"PBVN"}),(0,t.Wm)(O,{label:"MB",value:"MB"}),(0,t.Wm)(O,{label:"NCB",value:"NCB"}),(0,t.Wm)(O,{label:"SHB",value:"SHB"}),(0,t.Wm)(O,{label:"SAIGONBANK",value:"SAIGONBANK"}),(0,t.Wm)(O,{label:"SACOMBANK",value:"SACOMBANK"}),(0,t.Wm)(O,{label:"TPBANK",value:"TPBANK"}),(0,t.Wm)(O,{label:"UOB",value:"UOB"}),(0,t.Wm)(O,{label:"VAB",value:"VAB"}),(0,t.Wm)(O,{label:"VIETBANK",value:"VIETBANK"}),(0,t.Wm)(O,{label:"WOORIBANK",value:"WOORIBANK"}),(0,t.Wm)(O,{label:"PGBANK",value:"PGBANK"}),(0,t.Wm)(O,{label:"EXIMBANK",value:"EXIMBANK"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["modelValue","placeholder"]),(0,t.Wm)(I,{class:"addInfo_style mt-3",modelValue:_.addForm.bankOwner,"onUpdate:modelValue":a[8]||(a[8]=e=>_.addForm.bankOwner=e),placeholder:this.$t("bankOwner")},{prepend:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(this.$t("bankOwner")),1)])),_:1},8,["modelValue","placeholder"]),(0,t.Wm)(I,{class:"addInfo_style mt-3",modelValue:_.addForm.googleVerifyCode,"onUpdate:modelValue":a[9]||(a[9]=e=>_.addForm.googleVerifyCode=e),placeholder:this.$t("googleCode")},{prepend:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(this.$t("googleCode")),1)])),_:1},8,["modelValue","placeholder"]),(0,t._)("div",b,[(0,t.Wm)(y,{color:"#faa30d",class:"save_btn p-4 mt-4 fw-bold fs-5 align-self-center",size:"default",onClick:a[10]||(a[10]=e=>W.saveBank())},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(this.$t("Save")),1)])),_:1})])])),_:1},8,["modelValue","title"])])])])]),(0,t._)("div",k,[(0,t._)("div",h,[_.isRouterAlive?((0,t.wg)(),(0,t.iD)("div",B,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(_.bankCard,(e=>((0,t.wg)(),(0,t.iD)("div",{class:(0,s.C_)(["bankCard_style my-2 mx-4",_.active===e.id?"active":""]),key:e,onClick:a=>W.clickScript(e),onKeydown:a=>W.clickScript(e)},[(0,t._)("div",g,[(0,t.Wm)(z,{class:"mt-3"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{span:24},{default:(0,t.w5)((()=>[(0,t._)("span",w,(0,s.zw)(e.bankName),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(z,{class:"text-start",style:{"margin-top":"80px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{span:24},{default:(0,t.w5)((()=>[!0===_.checked2?((0,t.wg)(),(0,t.iD)("span",A,(0,s.zw)(e.bankOwner),1)):(0,t.kq)("",!0),!1===_.checked2?((0,t.wg)(),(0,t.iD)("span",v,(0,s.zw)(e.replaceBankOwner),1)):(0,t.kq)("",!0)])),_:2},1024)])),_:2},1024),(0,t.Wm)(z,{class:"mt-1 text-start"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{span:24},{default:(0,t.w5)((()=>[!0===_.checked2?((0,t.wg)(),(0,t.iD)("span",f,(0,s.zw)(e.bankAccount),1)):(0,t.kq)("",!0),!1===_.checked2?((0,t.wg)(),(0,t.iD)("span",N,(0,s.zw)(e.replaceBankAccount),1)):(0,t.kq)("",!0)])),_:2},1024)])),_:2},1024)])],42,p)))),128))])):(0,t.kq)("",!0)])])],64)}var _=l(4806),W=l.n(_),V=l(7178),y=l(6797),K=l.n(y);const O=K()(new Date).utc().format();var $={data(){return{isRouterAlive:!0,checked2:!0,loading_table:!1,loading:!1,childBorder:!0,addBankVisible:!1,addForm:{bankName:"",bankAccount:"",bankOwner:"",googleVerifyCode:"",bankType:"1"},errorMsg:{bankAccount:"",bankName:"",bankOwner:"",googleVerifyCode:""},bankCard:[],active:"",deleteBank_choose:{id:""}}},methods:{getBankList(){this.$http.get("/api/getMyBanks").then((e=>{console.log(e.data.data),this.bankCard=e.data.data}))},formatPaidStatus(e){return"order"===e?"訂單":"interCharge"===e?"內充":"結算"},formatisGotReceipt(e){return 1===e?"已收到回執":0===e?"暫無回執":"備用"},formatisPaid(e){return 1===e?"已支付":0===e?"未支付":"備用"},formatbillType(e){return 1===e?"已結算":0===e?"未結算":"備用"},searchDate(e){console.log(O),console.log(e),"訂單"===e&&(this.searchOption.type="order"),"內充"===e&&(this.searchOption.type="interCharge"),"結算"===e&&(this.searchOption.type="bill"),this.doSearch()},stateFormat(e,a,l){let t=l;return t+="",t.includes(".")||(t+="."),t.replace(/(\d)(?=(\d{3})+\.)/g,((e,a)=>`${a},`)).replace(/\.$/,"")},chooseBank_name(e){console.log(e),this.addForm.bankName=e},test(e){console.log(e),!1===e&&W().forEach(this.bankCard,((e,a)=>(this.bankCard[a].replaceBankOwner=e.bankOwner.replace(e.bankOwner.substr(3,4),"****"),this.bankCard[a].replaceBankAccount=e.bankAccount.replace(e.bankAccount.substr(3,4),"****"),this.bankCard)))},clickScript(e){this.active=e.id,console.log(e.id),console.log(e)},openADD_modal(){this.addBankVisible=!0},saveBank(){this.$http.post("/api/addMyBank",this.addForm).then((e=>{console.log(e.data.code),console.log(e.data.msg);const a=e.data.msg;200===e.data.code?(this.addBankVisible=!1,this.reload_bankList(),this.$swal.fire(`${this.$t("addSuccess")}!`,`${this.$t("addSuccess")}`,"success")):422===e.data.code?(this.errorMsg.bankAccount=W().findKey(a,["param","bankAccount"]),console.log(this.errorMsg.bankAccount),void 0!==this.errorMsg.bankAccount&&(0,V.z8)({showClose:!0,message:`${e.data.msg.bankAccount.msg}`,type:"error"}),this.errorMsg.bankName=W().findKey(a,["param","bankName"]),console.log(this.errorMsg.bankName),void 0!==this.errorMsg.bankName&&(0,V.z8)({showClose:!0,message:`${e.data.msg.bankName.msg}`,type:"error"}),this.errorMsg.bankOwner=W().findKey(a,["param","bankOwner"]),console.log(this.errorMsg.bankOwner),void 0!==this.errorMsg.bankOwner&&(0,V.z8)({showClose:!0,message:`${e.data.msg.bankOwner.msg}`,type:"error"}),this.errorMsg.googleVerifyCode=W().findKey(a,["param","googleVerifyCode"]),console.log(this.wrongMsg),void 0!==this.errorMsg.googleVerifyCode&&(0,V.z8)({showClose:!0,message:`${e.data.msg.googleVerifyCode.msg}`,type:"error"})):(0,V.z8)({showClose:!0,message:`${this.$t("googleCodeMsg")}`,type:"error"})}))},deleteBank(){},confirmEvent(){""===this.active?(0,V.z8)({showClose:!0,message:`${this.$t("choose_oneCard")}`,type:"warning"}):""!==this.active&&(this.deleteBank_choose.id=this.active,this.$http.post("/api/deleteMyBank",this.deleteBank_choose).then((e=>(console.log(e.data.code),this.$swal.fire(`${this.$t("deleteSuccess")}!`,`${e.data.msg}`,"success"),this.reload_bankList(),this.active="",this.active))))},reload_bankList(){this.isRouterAlive=!1,this.$nextTick((()=>{this.isRouterAlive=!0,this.getBankList()}))}},created(){this.getBankList()}},I=l(89);const M=(0,I.Z)($,[["render",C],["__scopeId","data-v-18a5293f"]]);var S=M}}]);
//# sourceMappingURL=25.32a916e7.js.map